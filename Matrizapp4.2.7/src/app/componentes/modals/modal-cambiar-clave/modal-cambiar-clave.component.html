<h1 mat-dialog-title>Cambiar Contraseña</h1>
<form #modelForm="ngForm" (ngSubmit)="onSubmit()" novalidate>

  <div mat-dialog-content>     

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-icon matSuffix class="material-icons">vpn_key</mat-icon>
        <input required matInput type="password" placeholder="Contraseña Actual" [(ngModel)]="model.clave_actual"
        autocomplete="off" #claveActual="ngModel" name="claveActual">
      </mat-form-field>
      <div class="validacion-requrido" *ngIf="claveActual.invalid"> 
        Ingrese la contraseña actual
      </div> 
    </div>

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-icon matSuffix class="material-icons">vpn_key</mat-icon>
        <input required matInput type="password" placeholder="Nueva Contraseña" [(ngModel)]="model.nueva_clave"
        autocomplete="off" #nuevaClave="ngModel" name="nuevaClave" id="nuevaClave" minlength="5">
      </mat-form-field>
      <div class="validacion-requrido" *ngIf="nuevaClave?.errors.required"> 
        Ingrese la nueva contraseña
      </div> 
      <div class="validacion-requrido" *ngIf="nuevaClave?.errors.minlength"> 
        La clave debe tener minimo 5 caracteres
      </div>
      <div class="validacion-requrido" *ngIf="nuevaClave?.value !== null && nuevaClave?.value !== '' &&  confirmarClave?.value !==null && confirmarClave?.value !== '' && nuevaClave.value !== confirmarClave.value"> 
          Las contraseñas no coinciden
        </div>
    </div>

    <div class="form-group">
      <mat-form-field class="full-width">
        <mat-icon matSuffix class="material-icons">vpn_key</mat-icon>
        <input required matInput type="password" placeholder="Confirmar Contraseña" [(ngModel)]="model.confirmar_clave"
        autocomplete="off" #confirmarClave="ngModel" name="confirmarClave" minlength="5">
      </mat-form-field>
      <div class="validacion-requrido" *ngIf="confirmarClave?.errors.required"> 
        Confirme la contraseña
      </div>      
      <div class="validacion-requrido" *ngIf="confirmarClave?.errors.minlength"> 
        La clave debe tener minimo 5 caracteres
      </div>
      <div class="validacion-requrido" *ngIf="nuevaClave?.value !== null && nuevaClave?.value !== '' &&  confirmarClave?.value !==null && confirmarClave?.value !== '' && nuevaClave?.value !== confirmarClave?.value"> 
          Las contraseñas no coinciden
        </div>
    </div>

  </div>

  <mat-dialog-actions>
    <button mat-button type="submit" [disabled]="!(modelForm.form.valid && nuevaClave?.value === confirmarClave?.value)">Actualizar</button>     
    <button mat-button type="button" (click)="cerrar()">Cerrar</button>
  </mat-dialog-actions>

</form>