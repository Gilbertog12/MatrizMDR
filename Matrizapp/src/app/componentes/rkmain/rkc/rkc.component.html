<!-- <div class="article-title">

    <!--</div> -->
<h6 class="article-title">Area > Proceso > Subproceso > Actividad

    <!-- <button *ngIf="actividadModel.actividadStatusId !=='008' &&actividadModel.CanAdd=== 'true'" mat-button class="mat-button header-btn" myOpenSearchOverlay style="float: right; " (click)="Caja(actividadModel.key,actividadModel.actividadStatusId)"><mat-icon mat-list-icon >dashboard</mat-icon>Dashboard</button> -->
    <button *ngIf="boton === 'creador' " mat-button class="mat-button header-btn" myOpenSearchOverlay style="float: right; " (click)="Caja(actividadModel.key,actividadModel.actividadStatusId)"><mat-icon mat-list-icon >dashboard</mat-icon>Dashboard</button>
    <button *ngIf="boton === 'validador' || boton === 'aprobador' "  mat-button class="mat-button header-btn" myOpenSearchOverlay style="float: right; " (click)="Caja(actividadModel.key,actividadModel.actividadStatusId)">Editar</button>
    <button *ngIf="boton === 'validador'  " mat-button class="mat-button header-btn" myOpenSearchOverlay style="float: right; " (click)="enviarAvalidar(actividadModel.key,actividadModel.actividadStatusId,'IV')">Validar</button>
    <button *ngIf="boton === 'aprobador' " mat-button class="mat-button header-btn" myOpenSearchOverlay style="float: right; " (click)="enviarAvalidar(actividadModel.key,actividadModel.actividadStatusId,'IA')">Aprobar</button>

</h6>



<div class="row">
    <div class="col-xl-12">
        <div class="box box-default">
            <div class="box-body">
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-1">
                            <mat-form-field>
                                <input matInput type="text" name="areaId" placeholder="Area" [(ngModel)]="actividadModel.areaId" #areaId="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput type="text" name="areaDescripcion" placeholder="" [(ngModel)]="actividadModel.areaDescripcion" #areaDescripcion="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-1">
                            <mat-form-field>
                                <input matInput type="text" name="procesoId" placeholder="Proceso" [(ngModel)]="actividadModel.procesoId" #procesoId="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput type="text" name="procesoDescripcion" placeholder="" [(ngModel)]="actividadModel.procesoDescripcion" #procesoDescripcion="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-1">
                            <mat-form-field>
                                <input matInput type="text" name="subprocesoId" placeholder="Subproceso" [(ngModel)]="actividadModel.subprocesoId" #subprocesoId="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput type="text" name="subprocesoDescripcion" placeholder="" [(ngModel)]="actividadModel.subprocesoDescripcion" #subprocesoDescripcion="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-1">
                            <mat-form-field>
                                <input matInput type="text" name="actividadId" placeholder="Actividad" [(ngModel)]="actividadModel.actividadId" #actividadId="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <a><input matInput type="text" name="actividadDescripcion" placeholder="" [(ngModel)]="actividadModel.actividadDescripcion" #actividadDescripcion="ngModel" readonly="true" /></a>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div class="row">
                        <div class="col-md-8">
                            <mat-form-field>
                                <textarea style="height: 20px;" matInput name="actividadDescripcionExt" placeholder="Descripción extendida" [(ngModel)]="actividadModel.actividadDescripcionExt" #actividadDescripcionExt="ngModel" readonly="true"></textarea>
                            </mat-form-field>
                        </div>
                        <div class="col-md-1">
                            <mat-form-field>
                                <input matInput style="width: auto;" type="text" name="actividadIdClasificacion" placeholder="Clasif" [(ngModel)]="actividadModel.actividadIdClasificacion" #actividadIdClasificacion="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field>
                                <input matInput style="width: auto " type="text" name="actividadDescClasificacion" placeholder="" [(ngModel)]="actividadModel.actividadDescClasificacion" #actividadDescClasificacion="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div class="row">

                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput *ngIf="actividadModel.actividadRiesgoPuroDesc !== ' '" [class]="actividadModel.actividadRiesgoPuroDesc" style="width: auto" type="text" name="actividadRiesgoPuroDesc" placeholder="Riesgo puro" [(ngModel)]="actividadModel.actividadRiesgoPuroDesc"
                                    #actividadRiesgoPuroDesc="ngModel" readonly="true" />
                                <input matInput *ngIf="actividadModel.actividadRiesgoPuroDesc === ' '" [id]="actividadModel.actividadRiesgoPuroDesc" style="width: auto" type="text" name="actividadRiesgoPuroDesc" placeholder="Riesgo puro" [(ngModel)]="actividadModel.actividadRiesgoPuroDesc"
                                    #actividadRiesgoPuroDesc="ngModel" readonly="true" />

                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput *ngIf="actividadModel.actividadRiesgoResidualDesc !== ' '" [class]="actividadModel.actividadRiesgoResidualDesc" style="width: auto" type="text" name="actividadRiesgoResidualDesc" placeholder="Riesgo residual" [(ngModel)]="actividadModel.actividadRiesgoResidualDesc"
                                    #actividadRiesgoResidualDesc="ngModel" readonly="true" />
                                <input matInput *ngIf="actividadModel.actividadRiesgoResidualDesc === ' '" [id]="actividadModel.actividadRiesgoResidualDesc" style="width: auto" type="text" name="actividadRiesgoResidualDesc" placeholder="Riesgo residual" [(ngModel)]="actividadModel.actividadRiesgoResidualDesc"
                                    #actividadRiesgoResidualDesc="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput style="width: auto" type="text" name="actividadStatus" placeholder="Status" [(ngModel)]="actividadModel.actividadStatus" #actividadStatus="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-2">
                            <mat-form-field>
                                <input matInput style="width: auto" type="text" name="actividadVersion" placeholder="Versión" [(ngModel)]="actividadModel.actividadVersion" #actividadVersion="ngModel" readonly="true" />
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field>
                                <input matInput style="width: auto" type="text" name="actividadFechaApprovedDate" [(ngModel)]="actividadModel.actividadFechaApprovedDate" #actividadFechaApprovedDate="ngModel" placeholder="Fecha" readonly="true" />
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-12" *ngIf="btn !== 'lectura'">
        <mat-tab-group (selectedTabChange)="test($event)" [(selectedIndex)]="tabDefault">

            <mat-tab label="Evaluación Riesgo">



                <div class="box box-default table-box table-responsive mdl-shadow--2dp" style="height: 500px;">
                    <div class="lds-spinner div_centrado" *ngIf="loading">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>



                    <!--  Detalle Riesgo-->
                    <table class="mdl-data-table table-bordered table-striped cf no-margin">
                        <thead>
                            <tr>
                                <th>
                                    <button *ngIf='ActivarBoton' class="BotonSinColorNiRelleno" type="button" (click)='ReordenarItems()'>Reordenar</button>
                                </th>
                                <th style="text-align: center; ">
                                    <p><b></b></p>
                                </th>
                                <th colspan=2 style="text-align: center; ">Seguridad y Salud Ocupacional</th>
                                <th colspan=2 style="text-align: center;">Medio ambiente</th>
                                <th colspan=2 style="text-align: center; ">Operacional</th>
                            </tr>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico">
                                    <p><b></b></p>Tarea</th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico">Descripción Tarea</th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico"><b>Puro</b></th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico"><b>Residual</b></th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico"><b>Puro</b></th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico"><b>Residual</b></th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico"><b>Puro</b></th>
                                <th class="mdl-data-table__cell--non-numeric" id="estatico"><b>Residual</b></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tbody cdkDropList (cdkDropListDropped)="drop($event)">
                                <tr *ngFor="let item of tareasList" cdkDrag>
                                    <td title="Pendiente Inactivacion (Eliminacion)." *ngIf=' item.estado ==="001" && item.pendingDelete === "Y"|| item.estado ==="002" && item.pendingDelete === "Y" || item.estado ==="003" && item.pendingDelete === "Y" || item.estado ==="006" && item.pendingDelete === "Y"'
                                        class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (*)</a></td>
                                    <td title="Pendiente Inactivacion (Eliminacion)." *ngIf=' item.estado ==="004" && item.pendingDelete === "Y"' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (**)</a></td>
                                    <td title="Pendiente Inactivacion (Eliminacion)." *ngIf=' item.estado ==="007" && item.pendingDelete === "Y"' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (***)</a></td>

                                    <td title="Ítem pendiente por enviar a validar." *ngIf=' item.estado ==="001" && item.pendingDelete === "N" || item.estado ==="002" && item.pendingDelete === "N" || item.estado ==="003"  && item.pendingDelete === "N"|| item.estado ==="006" && item.pendingDelete === "N"'
                                        class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (*)</a></td>
                                    <td title="Ítem pendiente de validar." *ngIf=' item.estado ==="004" && item.pendingDelete === "N"' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (**)</a></td>
                                    <td title="Ítem pendiente por Aprobar" *ngIf=' item.estado ==="007" && item.pendingDelete === "N"' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (***)</a></td>
                                    <td *ngIf=' item.estado ==="000" && item.pendingDelete ==="Y" ' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (R)</a></td>
                                    <td *ngIf=' item.estado ==="000" && item.pendingDelete ==="N" ' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (R)</a></td>
                                    <!-- <td *ngIf=' item.estado ==="010" && item.pendingDelete ==="Y" ' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (Ar)</a></td> -->
                                    <!-- <td *ngIf=' item.estado ==="010" && item.pendingDelete ==="N" ' class="mdl-data-table__cell--non-numeric">{{item.Id}}<a style="font-size: 11px;color: red;"> (Ar)</a></td> -->
                                    <td title="Aprobado" *ngIf='item.estado ==="008" && item.pendingDelete === "N"' class="mdl-data-table__cell--non-numeric">{{item.Id}}</td>

                                    <td class="mdl-data-table__cell--non-numeric">{{item.Descripcion}}</td>
                                    <td class="mdl-data-table__cell--non-numeric" [id]="item.tareaRiesgoPuroS">{{item.tareaRiesgoPuroS}}</td>
                                    <td class="mdl-data-table__cell--non-numeric" [id]="item.tareaRiesgoResidualS">{{item.tareaRiesgoResidualS}}</td>
                                    <td class="mdl-data-table__cell--non-numeric" [id]="item.tareaRiesgoPuroM">{{item.tareaRiesgoPuroM}}</td>
                                    <td class="mdl-data-table__cell--non-numeric" [id]="item.tareaRiesgoResidualM">{{item.tareaRiesgoResidualM}}</td>
                                    <td class="mdl-data-table__cell--non-numeric" [id]="item.tareaRiesgoPuroN">{{item.tareaRiesgoPuroN}}</td>
                                    <td class="mdl-data-table__cell--non-numeric" [id]="item.tareaRiesgoResidualN">{{item.tareaRiesgoResidualN}}</td>
                                </tr>
                            </tbody>
                    </table>
                </div>
            </mat-tab>
            <!--  Std job-->

            <mat-tab label="Std. Job">
                <div class="box box-default table-box table-responsive mdl-shadow--2dp" style="height: 500px;">
                    <div class="lds-spinner div_centrado" *ngIf="loading">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <table class="mdl-data-table table-bordered table-striped cf no-margin" *ngIf="!loading">
                        <thead>
                            <tr>
                                <th style="text-align: left; height: 30px;"></th>

                                <th class="mdl-data-table__cell--non-numeric" style="width: 30px;">
                                    <div [ngSwitch]="actividadModel.CanAdd">
                                        <div *ngSwitchCase="'false'">

                                            <button class="btn btn-sm btn-light btn-round" (click)="guardarstdjob()" id="SinPermisos" disabled>
                              <img class="img-circle" src="assets/images/Add_Disabled.png" style="width: 10px; height: 10px;">
                          </button>
                                        </div>
                                        <div *ngSwitchCase="'true'">

                                            <ng-template [ngIf]="actividadModel.Creador ==='true'" [ngIfElse]='NoPermitido'>

                                                <ng-template [ngIf]="actividadModel.actividadStatusId ==='001' || actividadModel.actividadStatusId ==='002' || actividadModel.actividadStatusId ==='008'" [ngIfElse]='opcion2'>

                                                    <button class="btn btn-sm btn-light btn-round" (click)="guardarstdjob()">
                                                        <img class="img-circle" src="assets/images/Add.png" style="width: 10px; height: 10px;">
                                                    </button>


                                                </ng-template>

                                                <ng-template #opcion2>
                                                    <button class="btn btn-sm btn-light btn-round" (click)="guardarstdjob()" id="SinPermisos" disabled>
                                                        <img class="img-circle" src="assets/images/Add_Disabled.png" style="width: 10px; height: 10px;">
                                                    </button>
                                                </ng-template>


                                            </ng-template>

                                            <ng-template #NoPermitido>

                                                <button class="btn btn-sm btn-light btn-round" (click)="guardarstdjob()" id="SinPermisos" disabled>
                                                    <img class="img-circle" src="assets/images/Add_Disabled.png" style="width: 10px; height: 10px;">
                                                </button>

                                            </ng-template>






                                        </div>
                                    </div>
                                </th>
                                <th style="text-align: left; height: 30px; "></th>
                                <th style="text-align: left; ">Std Job No</th>
                                <th style="text-align: left; width: 300px; ">Std Job Descripción</th>
                                <th style="text-align: left; "><b>Task No</b></th>
                                <th style="text-align: left; "><b>Task Descripción</b></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of stdJobList; let indice=index ">
                                <td>{{indice+1}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">
                                    <div [ngSwitch]="actividadModel.CanAdd ">

                                        <div *ngSwitchCase=" 'true' ">

                                            <ng-template [ngIf]="actividadModel.Creador ==='true'" [ngIfElse]='NoPermitido'>

                                                <ng-template [ngIf]="actividadModel.actividadStatusId ==='001' || actividadModel.actividadStatusId ==='002'|| actividadModel.actividadStatusId ==='008'" [ngIfElse]='opcion2'>

                                                    <button *ngIf="item.statusId ==='007'" class="btn btn-sm btn-light btn-round" (click)="eliminarstdjob(item)" disabled>
                                                            <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                                                        </button>

                                                    <button *ngIf="item.statusId ==='004'" class="btn btn-sm btn-light btn-round" (click)="eliminarstdjob(item)" disabled>
                                                            <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                                                        </button>

                                                    <button *ngIf="item.statusId ==='001' && item.pendingDelete ==='N' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='006' && item.pendingDelete ==='N' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='002' && item.pendingDelete ==='N' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='008' && item.pendingDelete ==='N' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='000' && item.pendingDelete ==='N' && item.DeleteIcon === 'Y'" class="btn btn-sm btn-light btn-round" (click)="eliminarstdjob(item)">
                                                <img class="img-circle" src="assets/images/Delete.png" style="width: 10px; height: 10px;">
                                            </button>
                                                    <button *ngIf="item.statusId ==='001' && item.pendingDelete ==='Y' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='006' && item.pendingDelete ==='Y' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='002' && item.pendingDelete ==='Y' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='008' && item.pendingDelete ==='Y' && item.DeleteIcon === 'Y'
                                                        ||item.statusId ==='000' && item.pendingDelete ==='Y' && item.DeleteIcon === 'Y'" class="btn btn-sm btn-light btn-round" (click)="eliminarstdjob(item)" disabled>
                                                <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                                            </button>
                                                    <button *ngIf="item.statusId ==='001' && item.pendingDelete ==='N' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='006' && item.pendingDelete ==='N' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='002' && item.pendingDelete ==='N' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='008' && item.pendingDelete ==='N' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='000' && item.pendingDelete ==='N' && item.DeleteIcon === 'N'" class="btn btn-sm btn-light btn-round" (click)="eliminarstdjob(item)" disabled>
                                                <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                                            </button>
                                                    <button *ngIf="item.statusId ==='001' && item.pendingDelete ==='Y' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='006' && item.pendingDelete ==='Y' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='002' && item.pendingDelete ==='Y' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='008' && item.pendingDelete ==='Y' && item.DeleteIcon === 'N'
                                                        ||item.statusId ==='000' && item.pendingDelete ==='Y' && item.DeleteIcon === 'N'" class="btn btn-sm btn-light btn-round" (click)="eliminarstdjob(item)" disabled>
                                                <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                                            </button>


                                                </ng-template>

                                                <ng-template #opcion2>
                                                    <button class="btn btn-sm btn-light btn-round " (click)="eliminarstdjob(item) " id="SinPermisos " disabled>
                                                        <img class="img-circle " src="assets/images/Delete_Disabled.png " style="width: 10px; height: 10px; ">
                                                    </button>
                                                </ng-template>


                                            </ng-template>

                                            <ng-template #NoPermitido>

                                                <button class="btn btn-sm btn-light btn-round " (click)="eliminarstdjob(item) " id="SinPermisos " disabled>
                                                    <img class="img-circle " src="assets/images/Delete_Disabled.png " style="width: 10px; height: 10px; ">
                                                </button>

                                            </ng-template>

                                        </div>
                                        <div *ngSwitchCase=" 'false' ">
                                            <button class="btn btn-sm btn-light btn-round " (click)="eliminarstdjob(item) " id="SinPermisos " disabled>
                            <img class="img-circle " src="assets/images/Delete_Disabled.png " style="width: 10px; height: 10px; ">
                        </button>
                                        </div>
                                    </div>
                                </td>
                                <td class="mdl-data-table__cell--non-numeric ">
                                    <button class="btn btn-sm btn-light btn-round " (click)="cargarequipo(item) ">
                        <img class="img-circle " src="assets/images/Help.png " style="width: 10px; height: 10px; ">
                    </button>
                                </td>
                                <td *ngIf='item.statusId ==="001" || item.statusId ==="002"||item.statusId ==="003"|| item.statusId ==="006"' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; "> (*)</a></td>
                                <td *ngIf='item.statusId ==="004"' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; "> (**)</a></td>
                                <td *ngIf='item.statusId ==="007"' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; "> (***)</a></td>
                                <td *ngIf='item.statusId ==="000"' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; "> (R)</a></td>
                                <td *ngIf='item.statusId ==="010"' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; "> (R)</a></td>
                                <!-- <td *ngIf='item.statusId !=="008 "' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; ">(*)</a></td> -->
                                <td *ngIf=' item.statusId ==="008"' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}</td> -->
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobTaskNo}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobTaskDesc}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </mat-tab>
            <!-- checkList -->
            <mat-tab label="CheckList">
                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; ">
                    <div class="lds-spinner div_centrado" *ngIf="loading">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <table class="mdl-data-table table-bordered table-striped cf no-margin ">
                        <thead>

                            <tr>
                                <!-- <th style="text-align: left; height: 30px;"></th> -->

                                <th class="mdl-data-table__cell--non-numeric"></th>

                                <th class="mdl-data-table__cell--non-numeric" *ngIf="modificados > 0">
                                    <button mat-icon-button>
                                        <mat-icon (click)="actulizarTodo()" style="cursor: pointer;">save</mat-icon>
                                    </button>
                                </th>
                                <th class="mdl-data-table__cell--non-numeric" *ngIf="modificados == 0">
                                    <button mat-icon-button disabled id="SinPermisos">
                                        <mat-icon  style="cursor: no-drop;">save</mat-icon>
                                    </button>
                                </th>


                                <th class="mdl-data-table__cell--non-numeric">

                                    <ng-container *ngIf="checklistEllipse.length == 0  && !habilitarPaste">
                                        <button class="btn btn-sm btn-light btn-round" (click)="guardarCheckListEllipse()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]= rutaImgAdd
                                            title="Añadir Item"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                    </ng-container>

                                    <ng-container *ngIf="checklistEllipse.length >= 1 && !habilitarPaste">
                                        <button class="btn btn-sm btn-light btn-round" (click)="guardarCheckListEllipse()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]= rutaImgAdd
                                            title="Añadir Item"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                        <button class="btn btn-sm btn-light btn-round" (click)="CopiarCheckList()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]=rutaImgCopy
                                            title="Copiar CheckList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                    </ng-container>



                                    <ng-container *ngIf="(checklistEllipse.length >= 0 && habilitarPaste ) && (!valorChckCopiado) || (checklistEllipse.length == 0 && habilitarPaste ) && (!valorChckCopiado )">

                                        <button class="btn btn-sm btn-light btn-round" (click)="guardarCheckListEllipse()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]= rutaImgAdd
                                            title="Añadir Item"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>

                                        <button *ngIf="checklistEllipse.length == 0" class="btn btn-sm btn-light btn-round" (click)="CopiarCheckList()" disabled>
                                            <img
                                            class="img-circle"
                                            [src]=rutaImgCopy
                                            title="Copiar CheckList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                        <button *ngIf="checklistEllipse.length != 0" class="btn btn-sm btn-light btn-round" (click)="CopiarCheckList()">
                                            <img
                                            class="img-circle"
                                            src='assets/images/copy2.png'
                                            title="Copiar CheckList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>

                                        <button *ngIf=" pegar " class="btn btn-sm btn-light btn-round" (click)="validarPegadoCheck()">
                                            <img
                                            class="img-circle"
                                            src= "assets/images/paste.png"
                                            title="Pegar ChechkList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                        <button *ngIf="!pegar" class="btn btn-sm btn-light btn-round" (click)="pegarCheck()" disabled>
                                            <img
                                            class="img-circle"
                                            src= "assets/images/paste2.png"
                                            title="Pegar ChechkList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>


                                    </ng-container>

                                    <ng-container *ngIf="valorChckCopiado && habilitarPaste">
                                        <button mat-icon-button (click)="limpiarCopiado()">
                                            <mat-icon color="primary" >undo</mat-icon>

                                        </button>
                                    </ng-container>



                                </th>




                                <th class="text-center">Codigo</th>
                                <!-- <th class="text-center">Tipo</th> -->
                                <th class="text-center">Descripcion</th>
                                <th>
                                    <!-- <mat-slide-toggle [(ngModel)]="masterSelected" size="small" (change)="checkUncheckAll()">Validar</mat-slide-toggle> -->
                                    Aplica
                                </th>

                                <th colspan="2" class="text-center">Comentario</th>
                            </tr>

                        </thead>

                        <tbody>
                            <tr *ngFor="let chk of checklistEllipse ; let indice = index">
                                <td>{{indice+1}}</td>
                                <td *ngIf="!chk.modify" class="mdl-data-table__cell--non-numeric">
                                    <button mat-icon-button (click)="actualizarCheck(chk.checkCode,chk.checkComment,chk.checkValidation)" style="text-align: center !important; cursor:pointer;" id="SinPermisos" disabled>
                                    <mat-icon class="material-icons" >

                                        save
                                    </mat-icon>
                                    
                                   </button>
                                </td>

                                <td *ngIf="chk.modify" class="mdl-data-table__cell--non-numeric">

                                    <button mat-icon-button (click)="actualizarCheck(chk.checkCode,chk.checkComment,chk.checkValidation)" style="text-align: center !important; cursor:pointer;">
                                        <mat-icon class="material-icons" >
    
                                            save
                                        </mat-icon>

                                    </button>
                                </td>
                                <td>

                                    <button *ngIf="chk.mostrarEliminar" class="btn btn-sm btn-light btn-round" (click)="eliminarCheck(chk.checkCode)">
                            <img class="img-circle" src="assets/images/Delete.png" style="width: 10px; height: 10px;">
                        </button>
                                    <button *ngIf="!chk.mostrarEliminar" class="btn btn-sm btn-light btn-round" (click)="eliminarCheck(chk.checkCode)" disabled id="SinPermisos">
                            <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                        </button>

                                </td>
                                <td *ngIf='chk.statusId ==="001" ||chk.statusId ==="002"||chk.statusId ==="003"|| chk.statusId ==="006"' class="mdl-data-table__cell--non-numeric ">{{chk.checkCode}}<a style="font-size: 11px;color: red; "> (*)</a></td>
                                <td *ngIf='chk.statusId ==="004"' class="mdl-data-table__cell--non-numeric ">{{chk.checkCode}}<a style="font-size: 11px;color: red; "> (**)</a></td>
                                <td *ngIf='chk.statusId ==="007"' class="mdl-data-table__cell--non-numeric ">{{chk.checkCode}}<a style="font-size: 11px;color: red; "> (***)</a></td>
                                <td *ngIf='chk.statusId ==="000"' class="mdl-data-table__cell--non-numeric ">{{chk.checkCode}}<a style="font-size: 11px;color: red; "> (R)</a></td>
                                <td *ngIf='chk.statusId ==="010"' class="mdl-data-table__cell--non-numeric ">{{chk.checkCode}}<a style="font-size: 11px;color: red; "> (R)</a></td>
                                <td *ngIf='chk.statusId ==="008"' class="mdl-data-table__cell--non-numeric text-center">{{chk.checkCode}}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric">{{chk.checkType}}</td> -->
                                <td class="mdl-data-table__cell--non-numeric">{{chk.checkDescription}}</td>
                                <td class="mdl-data-table__cell--non-numeric" style="text-align: center !important;">
                                    <!-- <label class="example-margin">No</label> -->
                                    <ng-container *ngIf='chk.statusId ==="001" || chk.statusId ==="002"'>
                                        <mat-slide-toggle [(ngModel)]="chk.check" (change)="cambiarValidation(indice)" size="small" [disabled]="!showDelete">{{chk.check === true ? 'Si' : 'No'}}</mat-slide-toggle>

                                    </ng-container>
                                    <ng-container *ngIf='chk.statusId ==="004" || chk.statusId ==="006" || chk.statusId ==="007" || chk.statusId ==="008" '>
                                        <mat-slide-toggle *ngIf='chk.statusId !=="008"' [(ngModel)]="chk.check" (change)="cambiarValidation(indice)" size="small" disabled>{{chk.check === true ? 'Si' : 'No'}}</mat-slide-toggle>
                                        <mat-slide-toggle *ngIf='chk.statusId ==="008"' [(ngModel)]="chk.check" (change)="cambiarValidation(indice)" size="small">{{chk.check === true ? 'Si' : 'No'}}</mat-slide-toggle>

                                    </ng-container>
                                    <!-- <label class="example-margin">Si</label> -->

                                </td>
                                <!-- <td class="mdl-data-table__cell--non-numeric" style="text-align: center !important;">{{chk.checkValidation === 'Y' ? 'Si' : 'No'}}</td> -->
                                <ng-container *ngIf='chk.statusId ==="001" || chk.statusId ==="002"'>

                                    <td class="mdl-data-table__cell--non-numeric"><textarea id="comentario" [(ngModel)]="chk.checkComment" (ngModelChange)="habilitarSave(indice)" [disabled]="!showDelete">{{chk.checkComment}}</textarea></td>

                                </ng-container>
                                <ng-container *ngIf='chk.statusId ==="004" || chk.statusId ==="006" || chk.statusId ==="007" || chk.statusId ==="008" '>


                                    <td *ngIf=' chk.statusId ==="008" ' class="mdl-data-table__cell--non-numeric"><textarea id="comentario" [(ngModel)]="chk.checkComment" (ngModelChange)="habilitarSave(indice)">{{chk.checkComment}}</textarea></td>
                                    <td *ngIf=' chk.statusId !=="008" ' class="mdl-data-table__cell--non-numeric"><textarea id="comentario" [(ngModel)]="chk.checkComment" (ngModelChange)="habilitarSave(indice)" disabled>{{chk.checkComment}}</textarea></td>
                                </ng-container>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </mat-tab>

            <mat-tab label="Detalle ">
                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; ">
                    <div class="lds-spinner div_centrado" *ngIf="loading">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <table class="mdl-data-table table-bordered table-striped cf no-margin " *ngIf="!loading">
                        <thead>
                            <tr>
                                <th colspan="2 " rowspan="2 " style="text-align: center; ">Tarea</th>
                                <th colspan="2 " rowspan="2 " style="text-align: center; ">Riesgo</th>
                                <th colspan="2 " rowspan="2 " style="text-align: center; ">Consecuencia</th>
                                <th colspan=2 style="text-align: center; "> Seguridad y Salud Ocupacional</th>
                                <th colspan=2 style="text-align: center; ">Medio ambiente</th>
                                <th colspan=2 style="text-align: center; ">Operacional</th>
                            </tr>
                            <tr>
                                <th style="text-align: left; " id="estatico ">Puro</th>
                                <th style="text-align: left; " id="estatico ">Residual</th>
                                <th style="text-align: left; " id="estatico ">Puro</th>
                                <th style="text-align: left; " id="estatico ">Residual</th>
                                <th style="text-align: left; " id="estatico ">Puro</th>
                                <th style="text-align: left; " id="estatico ">Residual</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of detalleList ">
                                <td class="mdl-data-table__cell--non-numeric ">{{item.tareaDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.tareaId}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.riesgoDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.riesgoId}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.consecuenciaId}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.consecuenciaDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.probabilidadM}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.severidadM}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.probabilidadN}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.severidadN}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.probabilidadS}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.severidadS}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </mat-tab>

            <mat-tab label="Log ">
                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; ">
                    <div class="lds-spinner div_centrado" *ngIf="loading">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <table class="mdl-data-table table-bordered table-striped cf no-margin" *ngIf="!loading">
                        <thead>
                            <tr>
                                <th style="text-align: left; ">Fecha y Hora </th>
                                <th style="text-align: left; ">Usuario</th>
                                <th style="text-align: left; ">Operacion</th>
                                <th style="text-align: left; ">Item</th>
                                <!-- <th style="text-align: left; ">Ruta</th> -->
                                <!-- <th style="text-align: left; width: 400px; ">Before</th> -->
                                <th style="text-align: left; width: 400px; ">Jerarquia</th>
                                <th style="text-align: left; ">Versión</th>
                                <!-- <th style="text-align: left; ">Consecuencia</th>
                                <th style="text-align: left; ">Control</th>
                                <th style="text-align: left; ">Fecha</th>
                                <th style="text-align: left; ">Hora</th>
                                <th style="text-align: left; ">Operación</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of logList ">
                                <td class="mdl-data-table__cell--non-numeric ">{{item.ULTIMAFECHAHORAMODIFICACION}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.ultimaUsuarioModifico}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.operacion}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.item}}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric ">{{item.before}}</td> -->
                                <td class="mdl-data-table__cell--non-numeric ">{{item.after}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.version}}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric ">{{item.tarea}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.dimension}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.riesgo}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.consecuencia}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.control}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.ultimaHoraModificacion}}</td> -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </mat-tab>

            <!-- <mat-tab disabled>
                <ng-template mat-tab-label>
                    <button *ngIf="!habilitar" mat-icon-button (click)="mensaje() " disabled>
                        <mat-icon>add_circle</mat-icon>
                    </button>
                    <button *ngIf="habilitar" mat-icon-button (click)="mensaje()">
                        <mat-icon style="color:green">add_circle</mat-icon>
                    </button>
                </ng-template>
            </mat-tab> -->

        </mat-tab-group>

    </div>

    <div class="col-xl-12 " *ngIf="btn==='lectura' ">
        <mat-tab-group (selectedTabChange)="test($event)" [(selectedIndex)]="tabDefault">
            <mat-tab label="Evaluación Riesgo ">
                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; ">
                    <table class="mdl-data-table table-bordered table-striped cf no-margin ">
                        <thead>
                            <tr>
                                <th>
                                    <button *ngIf='ActivarBoton' class="BotonSinColorNiRelleno " type="button " (click)='ReordenarItems()'>Reordenar</button>
                                </th>
                                <th style="text-align: center; ">
                                    <p><b></b></p>
                                </th>
                                <th colspan=2 style="text-align: center; ">Seguridad y Salud Ocupacional</th>
                                <th colspan=2 style="text-align: center; ">Medio ambiente</th>
                                <th colspan=2 style="text-align: center; ">Operacional</th>
                            </tr>
                            <tr>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico ">
                                    <p><b></b></p>Tarea</th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico ">Descripción Tarea</th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico "><b>Puro</b></th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico "><b>Residual</b></th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico "><b>Puro</b></th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico "><b>Residual</b></th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico "><b>Puro</b></th>
                                <th class="mdl-data-table__cell--non-numeric " id="estatico "><b>Residual</b></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tbody cdkDropList (cdkDropListDropped)="drop($event) ">
                                <tr *ngFor="let item of tareasList " cdkDrag>
                                    <!-- <td *ngIf=' item.estado ==="001" || item.estado ==="002" || item.estado ==="003" || item.estado ==="006"' class="mdl-data-table__cell--non-numeric ">{{item.Id}}<a style="font-size: 11px;color: red; "> (*)</a></td>
                                    <td *ngIf=' item.estado ==="004"' class="mdl-data-table__cell--non-numeric ">{{item.Id}}<a style="font-size: 11px;color: red; "> (**)</a></td>
                                    <td *ngIf=' item.estado ==="007"' class="mdl-data-table__cell--non-numeric ">{{item.Id}}<a style="font-size: 11px;color: red; "> (***)</a></td>
                                    <td *ngIf=' item.estado ==="000"' class="mdl-data-table__cell--non-numeric ">{{item.Id}}<a style="font-size: 11px;color: red; "> (R)</a></td> -->
                                    <!-- <td *ngIf=' item.estado ==="010 "' class="mdl-data-table__cell--non-numeric ">{{item.Id}}<a style="font-size: 11px;color: red; "> (AR)</a></td> -->
                                    <td class="mdl-data-table__cell--non-numeric ">{{item.Id}}</td>

                                    <td class="mdl-data-table__cell--non-numeric ">{{item.Descripcion}}</td>
                                    <td class="mdl-data-table__cell--non-numeric " [id]="item.tareaRiesgoPuroS ">{{item.tareaRiesgoPuroS}}</td>
                                    <td class="mdl-data-table__cell--non-numeric " [id]="item.tareaRiesgoResidualS ">{{item.tareaRiesgoResidualS}}</td>
                                    <td class="mdl-data-table__cell--non-numeric " [id]="item.tareaRiesgoPuroM ">{{item.tareaRiesgoPuroM}}</td>
                                    <td class="mdl-data-table__cell--non-numeric " [id]="item.tareaRiesgoResidualM ">{{item.tareaRiesgoResidualM}}</td>
                                    <td class="mdl-data-table__cell--non-numeric " [id]="item.tareaRiesgoPuroN ">{{item.tareaRiesgoPuroN}}</td>
                                    <td class="mdl-data-table__cell--non-numeric " [id]="item.tareaRiesgoResidualN ">{{item.tareaRiesgoResidualN}}</td>
                                </tr>
                            </tbody>
                    </table>
                </div>
            </mat-tab>
            <mat-tab label="Std. Job ">
                <div class="lds-spinner div_centrado" *ngIf="loading">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>

                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; " *ngIf="!loading">
                    <table class="mdl-data-table table-bordered table-striped cf no-margin ">
                        <thead>
                            <tr>
                                <th style="text-align: left; height: 30px; "></th>
                                <th class="mdl-data-table__cell--non-numeric " style="width: 30px; ">
                                    <div [ngSwitch]="actividadModel.CanAdd ">
                                        <div *ngSwitchCase=" 'N' ">

                                            <button class="btn btn-sm btn-light btn-round " (click)="guardarstdjob() " disabled>
                              <img class="img-circle " src="assets/images/Add_Disabled.png " style="width: 10px; height: 10px; ">
                          </button>
                                        </div>
                                        <div *ngSwitchCase=" 'Y' ">

                                            <button class="btn btn-sm btn-light btn-round " (click)="guardarstdjob() ">
                              <img class="img-circle " src="assets/images/Add.png " style="width: 10px; height: 10px; ">
                          </button>
                                        </div>
                                    </div>
                                </th>
                                <th style="text-align: left; height: 30px; "></th>
                                <th style="text-align: left; ">Std Job No</th>
                                <th style="text-align: left; width: 300px; ">Std Job Descripción</th>
                                <th style="text-align: left; "><b>Task No</b></th>
                                <th style="text-align: left; "><b>Task Descripción</b></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of stdJobList; let indice=i ndex ">
                                <td>{{indice+1}}</td>

                                <td class="mdl-data-table__cell--non-numeric ">
                                    <div [ngSwitch]="actividadModel.CanAdd ">

                                        <div *ngSwitchCase=" 'Y' ">
                                            <button class="btn btn-sm btn-light btn-round " (click)="eliminarstdjob(item) ">
                            <img class="img-circle " src="assets/images/Delete.png " style="width: 10px; height: 10px; ">
                        </button>
                                        </div>
                                        <div *ngSwitchCase=" 'N' ">
                                            <button class="btn btn-sm btn-light btn-round " (click)="eliminarstdjob(item) " disabled>
                            <img class="img-circle " src="assets/images/Delete_Disabled.png " style="width: 10px; height: 10px; ">
                        </button>
                                        </div>
                                    </div>
                                </td>
                                <td class="mdl-data-table__cell--non-numeric ">
                                    <button class="btn btn-sm btn-light btn-round " (click)="cargarequipo(item) ">
                        <img class="img-circle " src="assets/images/Help.png " style="width: 10px; height: 10px; ">
                    </button>
                                </td>

                                <!-- <td *ngIf='item.statusId !=="008 "' class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}<a style="font-size: 11px;color: red; ">(*)</a></td> -->
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobNo}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobTaskNo}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.stdJobTaskDesc}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </mat-tab>

            <!-- checkList -->
            <mat-tab label="CheckList">
                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; ">
                    <div class="lds-spinner div_centrado" *ngIf="loading">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <table class="mdl-data-table table-bordered table-striped cf no-margin ">
                        <thead>

                            <tr>
                                <!-- <th style="text-align: left; height: 30px;"></th> -->

                                <th class="mdl-data-table__cell--non-numeric"></th>
                                <th class="mdl-data-table__cell--non-numeric" *ngIf="modificados > 0">
                                    <button mat-icon-button>
                                        <mat-icon (click)="actulizarTodo()" style="cursor: pointer;">save</mat-icon>
                                    </button>
                                </th>
                                <th class="mdl-data-table__cell--non-numeric" *ngIf="modificados == 0">
                                    <button mat-icon-button disabled id="SinPermisos">
                                        <mat-icon  style="cursor: no-drop;">save</mat-icon>
                                    </button>
                                </th>

                                <th class="mdl-data-table__cell--non-numeric">

                                    <ng-container *ngIf="checklistEllipse.length == 0  && !habilitarPaste">
                                        <button class="btn btn-sm btn-light btn-round" (click)="guardarCheckListEllipse()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]= rutaImgAdd
                                            title="Añadir Item"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                    </ng-container>

                                    <ng-container *ngIf="checklistEllipse.length >= 1 && !habilitarPaste">
                                        <button class="btn btn-sm btn-light btn-round" (click)="guardarCheckListEllipse()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]= rutaImgAdd
                                            title="Añadir Item"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                        <button class="btn btn-sm btn-light btn-round" (click)="CopiarCheckList()">
                                            <img
                                            class="img-circle"
                                            src="assets/images/copy.png"
                                            title="Copiar CheckList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                    </ng-container>

                                    <ng-container *ngIf="(checklistEllipse.length >= 0 && habilitarPaste ) && (!valorChckCopiado) || (checklistEllipse.length == 0 && habilitarPaste ) && (!valorChckCopiado )">

                                        <button class="btn btn-sm btn-light btn-round" (click)="guardarCheckListEllipse()" [disabled]=deshabilitado>
                                            <img
                                            class="img-circle"
                                            [src]= rutaImgAdd
                                            title="Añadir Item"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>

                                        <button *ngIf="actividadModel.actividadStatusId === '001' || actividadModel.actividadStatusId === '002'" class="btn btn-sm btn-light btn-round" (click)="pegarCheck()">
                                            <img
                                            class="img-circle"
                                            src= "assets/images/paste.png"
                                            title="Pegar ChechkList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>
                                        <button *ngIf="actividadModel.actividadStatusId !== '001' || actividadModel.actividadStatusId !== '002'" class="btn btn-sm btn-light btn-round" (click)="pegarCheck()" disabled>
                                            <img
                                            class="img-circle"
                                            src= "assets/images/paste2.png"
                                            title="Pegar ChechkList"
                                            style="width: 15px; height: 15px"
                                          />
                                        </button>


                                    </ng-container>


                                    <ng-container *ngIf="valorChckCopiado && habilitarPaste">
                                        <button mat-icon-button (click)="limpiarCopiado()">
                                            <mat-icon color="primary" >undo</mat-icon>

                                        </button>
                                    </ng-container>



                                </th>




                                <th class="text-center">Codigo</th>
                                <!-- <th class="text-center">Tipo</th> -->
                                <th class="text-center">Descripcion</th>
                                <th>
                                    <!-- <mat-slide-toggle [(ngModel)]="masterSelected" size="small" (change)="checkUncheckAll()">Validar</mat-slide-toggle> -->
                                    Aplica
                                </th>

                                <th colspan="2" class="text-center">Comentario</th>
                            </tr>

                        </thead>

                        <tbody>
                            <tr *ngFor="let chk of checklistEllipse ; let indice = index">
                                <td>{{indice+1}}</td>
                                <td *ngIf="!chk.modify" class="mdl-data-table__cell--non-numeric">
                                    <button mat-icon-button (click)="actualizarCheck(chk.checkCode,chk.checkComment,chk.checkValidation)" style="text-align: center !important; cursor:pointer;" id="SinPermisos" disabled>
                                    <mat-icon class="material-icons" >

                                        save
                                    </mat-icon>
                                    
                                   </button>
                                </td>

                                <td *ngIf="chk.modify" class="mdl-data-table__cell--non-numeric">

                                    <button mat-icon-button (click)="actualizarCheck(chk.checkCode,chk.checkComment,chk.checkValidation)" style="text-align: center !important; cursor:pointer;" disabled>
                                        <mat-icon class="material-icons" >
    
                                            save
                                        </mat-icon>

                                    </button>
                                </td>
                                <td>

                                    <button *ngIf="chk.mostrarEliminar" class="btn btn-sm btn-light btn-round" (click)="eliminarCheck(chk.checkCode)" disabled>
                            <img class="img-circle" src="assets/images/Delete.png" style="width: 10px; height: 10px;">
                        </button>
                                    <button *ngIf="!chk.mostrarEliminar" class="btn btn-sm btn-light btn-round" (click)="eliminarCheck(chk.checkCode)" disabled id="SinPermisos">
                            <img class="img-circle" src="assets/images/Delete_Disabled.png" style="width: 10px; height: 10px;">
                        </button>

                                </td>

                                <td class="mdl-data-table__cell--non-numeric text-center">{{chk.checkCode}}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric">{{chk.checkType}}</td> -->
                                <td class="mdl-data-table__cell--non-numeric">{{chk.checkDescription}}</td>
                                <td class="mdl-data-table__cell--non-numeric" style="text-align: center !important;">
                                    <!-- <label class="example-margin">No</label> -->
                                    <mat-slide-toggle [(ngModel)]="chk.check" (change)="cambiarValidation(indice)" size="small" [disabled]="!showDelete">{{chk.check === true ? 'Si' : 'No'}}</mat-slide-toggle>
                                    <!-- <label class="example-margin">Si</label> -->

                                </td>
                                <!-- <td class="mdl-data-table__cell--non-numeric" style="text-align: center !important;">{{chk.checkValidation === 'Y' ? 'Si' : 'No'}}</td> -->
                                <td class="mdl-data-table__cell--non-numeric"><textarea id="comentario" [(ngModel)]="chk.checkComment" disabled>{{chk.checkComment}}</textarea></td>
                            </tr>
                        </tbody>

                    </table>
                </div>
            </mat-tab>

            <mat-tab label="Detalle ">
                <div class="lds-spinner div_centrado" *ngIf="loading">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>

                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; " *ngIf="!loading">
                    <table class="mdl-data-table table-bordered table-striped cf no-margin ">
                        <thead>
                            <tr>
                                <th colspan="2 " rowspan="2 " style="text-align: center; ">Riesgo</th>
                                <th colspan="2 " rowspan="2 " style="text-align: center; ">Tarea</th>
                                <th colspan="2 " rowspan="2 " style="text-align: center; ">Consecuencia</th>
                                <th colspan=2 style="text-align: center; "> Seguridad y Salud Ocupacional</th>
                                <th colspan=2 style="text-align: center; ">Medio ambiente</th>
                                <th colspan=2 style="text-align: center; ">Operacional</th>
                            </tr>
                            <tr>
                                <th style="text-align: left; " id="estatico ">Puro</th>
                                <th style="text-align: left; " id="estatico ">Residual</th>
                                <th style="text-align: left; " id="estatico ">Puro</th>
                                <th style="text-align: left; " id="estatico ">Residual</th>
                                <th style="text-align: left; " id="estatico ">Puro</th>
                                <th style="text-align: left; " id="estatico ">Residual</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of detalleList ">
                                <td class="mdl-data-table__cell--non-numeric ">{{item.riesgoId}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.riesgoDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.tareaId}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.tareaDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.consecuenciaId}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.consecuenciaDesc}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.probabilidadM}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.severidadM}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.probabilidadN}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.severidadN}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.probabilidadS}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.severidadS}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </mat-tab>
            <mat-tab label="Log ">

                <div class="lds-spinner div_centrado" *ngIf="loading">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>

                <div class="box box-default table-box table-responsive mdl-shadow--2dp " style="height: 500px; " *ngIf="!loading">
                    <table class="mdl-data-table table-bordered table-striped cf no-margin ">
                        <thead>
                            <tr>
                                <th style="text-align: left; ">Fecha y Hora </th>
                                <th style="text-align: left; ">Usuario</th>
                                <th style="text-align: left; ">Operacion</th>
                                <th style="text-align: left; ">Item</th>
                                <!-- <th style="text-align: left; ">Ruta</th> -->
                                <th style="text-align: left; width: 400px; ">Before</th>
                                <th style="text-align: left; width: 400px; ">After</th>
                                <th style="text-align: left; ">Versión</th>
                                <!-- <th style="text-align: left; ">Consecuencia</th>
                                <th style="text-align: left; ">Control</th>
                                <th style="text-align: left; ">Fecha</th>
                                <th style="text-align: left; ">Hora</th>
                                <th style="text-align: left; ">Operación</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of logList ">
                                <td class="mdl-data-table__cell--non-numeric ">{{item.ULTIMAFECHAHORAMODIFICACION}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.ultimaUsuarioModifico}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.operacion}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.item}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.before}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.after}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.version}}</td>
                                <!-- <td class="mdl-data-table__cell--non-numeric ">{{item.tarea}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.dimension}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.riesgo}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.consecuencia}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.control}}</td>
                                <td class="mdl-data-table__cell--non-numeric ">{{item.ultimaHoraModificacion}}</td> -->
                            </tr>
                        </tbody>
                    </table>
                </div>
            </mat-tab>
            <button (click)="mensaje()">Mas</button>

        </mat-tab-group>

    </div>
</div>